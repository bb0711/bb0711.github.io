<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Jekyll v4.0.1">
    

    <link rel="canonical" href="https://getbootstrap.com/docs/4.5/examples/blog/">

    <!-- Bootstrap core CSS -->
    <link href="./assets/dist/css/bootstrap.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <title>ANLAB</title>

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>
    <!-- Custom styles for this template -->
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="blog.css" rel="stylesheet">
  </head>
  <body>
    <div class="container">
  <header class="blog-header py-3">
    <div class="row flex-nowrap justify-content-between align-items-center">
      
      <div class="col-4 text-left">
        <a class="blog-header-logo text-dark" href="index.html">ANLAB</a>
      </div>
      <div class="nav-scroller py-1 mb-1">
        <nav class="nav d-flex justify-content-between ">
          <a class="p-4 text-secondary remove_underline" href="about.html">About</a>
          <a class="p-4 text-secondary remove_underline" href="member.html">Member</a>
          <a class="p-4 text-secondary remove_underline" href="research.html">Research</a>
          <a class="p-4 text-secondary remove_underline" href="publication.html"><b>Publications</b></a>
          <a class="p-4 text-secondary remove_underline" href="courses.html">Courses</a>
        </nav>
      </div>
    </div>
  </header>


<main role="main" class="container">
  <div class="first_row">
    <div class="col-sm-12 text-left title">
      Publications
    </div>
    <div class="col-sm-12 text-centerv researh_field">
      
      <div class=field_button1>
        Research Field     
      </div>
       
      <div class="field_button">
        <div class="but">
          <input type="radio" id="all" value="all" name="field" checked="checked" />
          <label for="all">all</label>
        </div>
        <div class="but">
          <input type="radio" id="sys" value="sys" name="field" />
          <label for="sys">system network</label>
        </div>
        <div class="but">
          <input type="radio" id="data" value="data" name="field" />
          <label for="data">data network</label>
        </div>
      </div> 
    </div>

    <!--
    <div class="col-sm-12 text-centerv researh_field">
      
      <div class=field_button1>
        Publication Year   
      </div>
       
      <div class="field_button">
        <div class="but">
          <input type="radio" id="all" value="all" name="year" checked="checked" />
          <label for="all">all</label>
        </div>
        <div class="but">
          <input type="radio" id="2020" value="2020" name="year" />
          <label for="2020">2020</label>
        </div>
        <div class="but">
          <input type="radio" id="2019" value="2019" name="year" />
          <label for="2019">2019</label>
        </div>
      </div>

    </div>
    -->


    <div class="col-sm-12 text-centerv" id="publication_list"></div>
</div>
</div>
</main><!-- /.container -->

<footer>


  <script>
    $( "footer" ).load( "./footer.html" );
  </script>

</footer>
</body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script>
  var publications = document.querySelector("#publication_list");
  
  //git에서 불러오기
  var requestURL = 'https://raw.githubusercontent.com/wiheeju/data/master/publications.json';
  var request = new XMLHttpRequest();
  request.open('GET', requestURL);
  request.responseType = 'text';
  request.send();
  request.onload = function() {
    var papers = JSON.parse(request.response);
    console.log(papers);
    show(papers);
  }

  $(function() {
    $('input:radio[name="field"]').change(function() {
        if ($(this).val() == 'all') {
            $(".1").show(200); //show in 200ms = 0.2s
            $(".2").show(200);
        } 
        else if ($(this).val() == 'sys'){
            $(".1").show(200);
            $(".2").hide(200);
        }
        else if ($(this).val() == 'data'){
            $(".1").hide(200);
            $(".2").show(200);
        }
    });
});

  function show_2(str){
    var class1 = document.getElementsByClassName('1');
    var class2 = document.getElementsByClassName('2');
  }

  function show_all(str){
    document.getElementsByClassName('1').style.display = 'block';
    document.getElementsByClassName('2').style.display = 'block';
  }
  
  
  function write_year(jsonobj){
    var year = document.createElement('div');
    year.className='paper_year';
    year.id = jsonobj["year"];
    year.innerText= jsonobj["year"]; 
    publications.appendChild(year);
  }
  function write_paper(jsonobj){
    var paper= document.createElement('div');
    paper.className='papers';
    paper.classList.add(jsonobj['section'] );
    var title = document.createElement('div');
    title.className='paper_title';
    title.innerText = jsonobj['title'];
    var writer = document.createElement('div');
    writer.className='paper_writer';
    writer.innerText = jsonobj['writer'];
    var aca = document.createElement('div');
    aca.className='paper_academy';
    aca.innerText = jsonobj['academy'];
    paper.appendChild(title);
    paper.appendChild(writer);
    paper.appendChild(aca);

    // poster, pdf 등의 첨부파일
    if(jsonobj.hasOwnProperty("pdf")){
      var pdf = document.createElement('div');
      pdf.className='attaches pdf';
      pdf.innerHTML='<a href='+ jsonobj['pdf'] +'>pdf</a>';
      paper.appendChild(pdf);
    }
    if(jsonobj.hasOwnProperty("poster")){
      var poster = document.createElement('div');
      poster.className='attaches poster';
      poster.innerHTML='<a href='+ jsonobj['poster'] +'>poster</a>';
      paper.appendChild(poster);
    }
    if(jsonobj.hasOwnProperty("ppt")){
      var ppt = document.createElement('div');
      ppt.className='attaches ppt';
      ppt.innerHTML='<a href='+ jsonobj['ppt'] +'>ppt</a>';
      paper.appendChild(ppt);
    }
    publications.appendChild(paper);

  }
  function show(jsonobj){
    var list = jsonobj;
    for (var i=0; i<list.length; i++){
      write_year(list[i]);
      for (var j=0; j<list[i]["publications"].length; j++){
        write_paper(list[i]['publications'][j]);
      }
      
    };
  }
</script>
</html>
